<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tasking Manager: backend.models.postgis.task.TaskInvalidationHistory Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tasking Manager
   </div>
   <div id="projectbrief">Tasking Manager backend</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>backend</b></li><li class="navelem"><b>models</b></li><li class="navelem"><b>postgis</b></li><li class="navelem"><b>task</b></li><li class="navelem"><a class="el" href="classbackend_1_1models_1_1postgis_1_1task_1_1TaskInvalidationHistory.html">TaskInvalidationHistory</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classbackend_1_1models_1_1postgis_1_1task_1_1TaskInvalidationHistory-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">backend.models.postgis.task.TaskInvalidationHistory Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for backend.models.postgis.task.TaskInvalidationHistory:</div>
<div class="dyncontent">
<div class="center"><img src="classbackend_1_1models_1_1postgis_1_1task_1_1TaskInvalidationHistory__inherit__graph.png" border="0" usemap="#abackend_8models_8postgis_8task_8TaskInvalidationHistory_inherit__map" alt="Inheritance graph"/></div>
<map name="abackend_8models_8postgis_8task_8TaskInvalidationHistory_inherit__map" id="abackend_8models_8postgis_8task_8TaskInvalidationHistory_inherit__map">
<area shape="rect" title=" " alt="" coords="5,119,219,533"/>
<area shape="rect" title=" " alt="" coords="89,5,135,71"/>
<area shape="poly" title=" " alt="" coords="115,84,115,118,109,118,109,84"/>
</map>
</div>
<div class="dynheader">
Collaboration diagram for backend.models.postgis.task.TaskInvalidationHistory:</div>
<div class="dyncontent">
<div class="center"><img src="classbackend_1_1models_1_1postgis_1_1task_1_1TaskInvalidationHistory__coll__graph.png" border="0" usemap="#abackend_8models_8postgis_8task_8TaskInvalidationHistory_coll__map" alt="Collaboration graph"/></div>
<map name="abackend_8models_8postgis_8task_8TaskInvalidationHistory_coll__map" id="abackend_8models_8postgis_8task_8TaskInvalidationHistory_coll__map">
<area shape="rect" title=" " alt="" coords="5,119,219,533"/>
<area shape="rect" title=" " alt="" coords="89,5,135,71"/>
<area shape="poly" title=" " alt="" coords="115,84,115,118,109,118,109,84"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa2a42d98d7f32d717ea5788de611ff5f" id="r_aa2a42d98d7f32d717ea5788de611ff5f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbackend_1_1models_1_1postgis_1_1task_1_1TaskInvalidationHistory.html#aa2a42d98d7f32d717ea5788de611ff5f">__init__</a> (self, project_id, task_id)</td></tr>
<tr class="separator:aa2a42d98d7f32d717ea5788de611ff5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a3ed3b24c172bf2453c3ab9a3447aa8be" id="r_a3ed3b24c172bf2453c3ab9a3447aa8be"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbackend_1_1models_1_1postgis_1_1task_1_1TaskInvalidationHistory.html#a3ed3b24c172bf2453c3ab9a3447aa8be">get_open_for_task</a> (int project_id, int task_id, Database db)</td></tr>
<tr class="separator:a3ed3b24c172bf2453c3ab9a3447aa8be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2acddd38fc4d10fe7a4ea5590ce7b692" id="r_a2acddd38fc4d10fe7a4ea5590ce7b692"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbackend_1_1models_1_1postgis_1_1task_1_1TaskInvalidationHistory.html#a2acddd38fc4d10fe7a4ea5590ce7b692">close_duplicate_invalidation_history_rows</a> (int project_id, int task_id, Database db)</td></tr>
<tr class="separator:a2acddd38fc4d10fe7a4ea5590ce7b692"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6157cc8bf7846dd687bfe6ab86131f73" id="r_a6157cc8bf7846dd687bfe6ab86131f73"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbackend_1_1models_1_1postgis_1_1task_1_1TaskInvalidationHistory.html#a6157cc8bf7846dd687bfe6ab86131f73">close_all_for_task</a> (int project_id, int task_id, Database db)</td></tr>
<tr class="separator:a6157cc8bf7846dd687bfe6ab86131f73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68c15f3b7c408581ef473b7a2939faa8" id="r_a68c15f3b7c408581ef473b7a2939faa8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbackend_1_1models_1_1postgis_1_1task_1_1TaskInvalidationHistory.html#a68c15f3b7c408581ef473b7a2939faa8">record_invalidation</a> (int project_id, int task_id, int invalidator_id, history, Database db)</td></tr>
<tr class="separator:a68c15f3b7c408581ef473b7a2939faa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b1f5821d0ab8b15341151267145c5b2" id="r_a6b1f5821d0ab8b15341151267145c5b2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbackend_1_1models_1_1postgis_1_1task_1_1TaskInvalidationHistory.html#a6b1f5821d0ab8b15341151267145c5b2">record_validation</a> (int project_id, int task_id, int validator_id, <a class="el" href="classbackend_1_1models_1_1dtos_1_1mapping__dto_1_1TaskHistoryDTO.html">TaskHistoryDTO</a> history, Database db)</td></tr>
<tr class="separator:a6b1f5821d0ab8b15341151267145c5b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a44cb14221e88e7ee5425c7630059142c" id="r_a44cb14221e88e7ee5425c7630059142c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbackend_1_1models_1_1postgis_1_1task_1_1TaskInvalidationHistory.html#a44cb14221e88e7ee5425c7630059142c">id</a> = Column(Integer, primary_key=True)</td></tr>
<tr class="separator:a44cb14221e88e7ee5425c7630059142c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43750ae8d545272c2baca46cd16ca2ed" id="r_a43750ae8d545272c2baca46cd16ca2ed"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbackend_1_1models_1_1postgis_1_1task_1_1TaskInvalidationHistory.html#a43750ae8d545272c2baca46cd16ca2ed">project_id</a> = Column(Integer, ForeignKey(&quot;projects.id&quot;), nullable=False)</td></tr>
<tr class="separator:a43750ae8d545272c2baca46cd16ca2ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ee1a34894ef94c0a8375e12da99cde7" id="r_a0ee1a34894ef94c0a8375e12da99cde7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbackend_1_1models_1_1postgis_1_1task_1_1TaskInvalidationHistory.html#a0ee1a34894ef94c0a8375e12da99cde7">task_id</a> = Column(Integer, nullable=False)</td></tr>
<tr class="separator:a0ee1a34894ef94c0a8375e12da99cde7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c3afdc8cfefe8a355f6e8573cc48a16" id="r_a6c3afdc8cfefe8a355f6e8573cc48a16"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbackend_1_1models_1_1postgis_1_1task_1_1TaskInvalidationHistory.html#a6c3afdc8cfefe8a355f6e8573cc48a16">is_closed</a> = Column(Boolean, default=False)</td></tr>
<tr class="separator:a6c3afdc8cfefe8a355f6e8573cc48a16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0ae7535bf38dc1b86c520de45e1293d" id="r_ad0ae7535bf38dc1b86c520de45e1293d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbackend_1_1models_1_1postgis_1_1task_1_1TaskInvalidationHistory.html#ad0ae7535bf38dc1b86c520de45e1293d">mapper_id</a> = Column(BigInteger, ForeignKey(&quot;users.id&quot;, name=&quot;fk_mappers&quot;))</td></tr>
<tr class="separator:ad0ae7535bf38dc1b86c520de45e1293d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a899db7db163c8bd726b697234e2685e3" id="r_a899db7db163c8bd726b697234e2685e3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbackend_1_1models_1_1postgis_1_1task_1_1TaskInvalidationHistory.html#a899db7db163c8bd726b697234e2685e3">mapped_date</a> = Column(DateTime)</td></tr>
<tr class="separator:a899db7db163c8bd726b697234e2685e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29a61703799552bda99f2f17f551a3b9" id="r_a29a61703799552bda99f2f17f551a3b9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbackend_1_1models_1_1postgis_1_1task_1_1TaskInvalidationHistory.html#a29a61703799552bda99f2f17f551a3b9">invalidator_id</a> = Column(BigInteger, ForeignKey(&quot;users.id&quot;, name=&quot;fk_invalidators&quot;))</td></tr>
<tr class="separator:a29a61703799552bda99f2f17f551a3b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc5a7ed64010af2c07a60f403fb9a4da" id="r_afc5a7ed64010af2c07a60f403fb9a4da"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbackend_1_1models_1_1postgis_1_1task_1_1TaskInvalidationHistory.html#afc5a7ed64010af2c07a60f403fb9a4da">invalidated_date</a> = Column(DateTime)</td></tr>
<tr class="separator:afc5a7ed64010af2c07a60f403fb9a4da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7091080f6d7aa8692126cc4b21528a11" id="r_a7091080f6d7aa8692126cc4b21528a11"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbackend_1_1models_1_1postgis_1_1task_1_1TaskInvalidationHistory.html#a7091080f6d7aa8692126cc4b21528a11">invalidation_history_id</a></td></tr>
<tr class="separator:a7091080f6d7aa8692126cc4b21528a11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4f7265b5c950ebf2cc6ed0729ce29be" id="r_ae4f7265b5c950ebf2cc6ed0729ce29be"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbackend_1_1models_1_1postgis_1_1task_1_1TaskInvalidationHistory.html#ae4f7265b5c950ebf2cc6ed0729ce29be">validator_id</a> = Column(BigInteger, ForeignKey(&quot;users.id&quot;, name=&quot;fk_validators&quot;))</td></tr>
<tr class="separator:ae4f7265b5c950ebf2cc6ed0729ce29be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3a91d702bfc18c56eabf2ddae00a957" id="r_ac3a91d702bfc18c56eabf2ddae00a957"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbackend_1_1models_1_1postgis_1_1task_1_1TaskInvalidationHistory.html#ac3a91d702bfc18c56eabf2ddae00a957">validated_date</a> = Column(DateTime)</td></tr>
<tr class="separator:ac3a91d702bfc18c56eabf2ddae00a957"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d5af45e998a2d1c1bd32c633798bcb5" id="r_a4d5af45e998a2d1c1bd32c633798bcb5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbackend_1_1models_1_1postgis_1_1task_1_1TaskInvalidationHistory.html#a4d5af45e998a2d1c1bd32c633798bcb5">updated_date</a> = Column(DateTime, default=timestamp)</td></tr>
<tr class="separator:a4d5af45e998a2d1c1bd32c633798bcb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Describes the most recent history of task invalidation and subsequent validation</pre> 
<p class="definition">Definition at line <a class="el" href="task_8py_source.html#l00066">66</a> of file <a class="el" href="task_8py_source.html">task.py</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa2a42d98d7f32d717ea5788de611ff5f" name="aa2a42d98d7f32d717ea5788de611ff5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2a42d98d7f32d717ea5788de611ff5f">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">backend.models.postgis.task.TaskInvalidationHistory.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>project_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>task_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task_8py_source.html#l00099">99</a> of file <a class="el" href="task_8py_source.html">task.py</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6157cc8bf7846dd687bfe6ab86131f73" name="a6157cc8bf7846dd687bfe6ab86131f73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6157cc8bf7846dd687bfe6ab86131f73">&#9670;&#160;</a></span>close_all_for_task()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">backend.models.postgis.task.TaskInvalidationHistory.close_all_for_task </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>project_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>task_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Database&#160;</td>
          <td class="paramname"><em>db</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Closes all open invalidation history entries for the specified task.
</pre> 
<p class="definition">Definition at line <a class="el" href="task_8py_source.html#l00178">178</a> of file <a class="el" href="task_8py_source.html">task.py</a>.</p>

</div>
</div>
<a id="a2acddd38fc4d10fe7a4ea5590ce7b692" name="a2acddd38fc4d10fe7a4ea5590ce7b692"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2acddd38fc4d10fe7a4ea5590ce7b692">&#9670;&#160;</a></span>close_duplicate_invalidation_history_rows()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">backend.models.postgis.task.TaskInvalidationHistory.close_duplicate_invalidation_history_rows </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>project_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>task_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Database
    &#160;</td>
          <td class="paramname"><em>db</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Closes duplicate TaskInvalidationHistory entries except for the latest one for the given project and task.
</pre> 
<p class="definition">Definition at line <a class="el" href="task_8py_source.html#l00149">149</a> of file <a class="el" href="task_8py_source.html">task.py</a>.</p>

</div>
</div>
<a id="a3ed3b24c172bf2453c3ab9a3447aa8be" name="a3ed3b24c172bf2453c3ab9a3447aa8be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ed3b24c172bf2453c3ab9a3447aa8be">&#9670;&#160;</a></span>get_open_for_task()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">backend.models.postgis.task.TaskInvalidationHistory.get_open_for_task </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>project_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>task_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Database&#160;</td>
          <td class="paramname"><em>db</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Retrieve the open TaskInvalidationHistory entry for the given project and task.

This method also handles a suspected concurrency issue by managing cases where multiple entries
are created when only one should exist. If multiple entries are found, it
recursively handles and closes duplicate entries to ensure only a single entry
remains open.

Args:
    project_id (int): The ID of the project.
    task_id (int): The ID of the task.
    local_session (Session, optional): The SQLAlchemy session to use for the query.
                                       If not provided, a default session is used.

Returns:
    TaskInvalidationHistory or None: The open TaskInvalidationHistory entry, or
                                     None if no open entry is found.

Raises:
    None: This method handles the MultipleResultsFound exception internally.
</pre> 
<p class="definition">Definition at line <a class="el" href="task_8py_source.html#l00105">105</a> of file <a class="el" href="task_8py_source.html">task.py</a>.</p>

</div>
</div>
<a id="a68c15f3b7c408581ef473b7a2939faa8" name="a68c15f3b7c408581ef473b7a2939faa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68c15f3b7c408581ef473b7a2939faa8">&#9670;&#160;</a></span>record_invalidation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">backend.models.postgis.task.TaskInvalidationHistory.record_invalidation </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>project_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>task_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>invalidator_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>history</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Database
    &#160;</td>
          <td class="paramname"><em>db</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task_8py_source.html#l00196">196</a> of file <a class="el" href="task_8py_source.html">task.py</a>.</p>

</div>
</div>
<a id="a6b1f5821d0ab8b15341151267145c5b2" name="a6b1f5821d0ab8b15341151267145c5b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b1f5821d0ab8b15341151267145c5b2">&#9670;&#160;</a></span>record_validation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">backend.models.postgis.task.TaskInvalidationHistory.record_validation </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>project_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>task_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>validator_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbackend_1_1models_1_1dtos_1_1mapping__dto_1_1TaskHistoryDTO.html">TaskHistoryDTO</a>&#160;</td>
          <td class="paramname"><em>history</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Database&#160;</td>
          <td class="paramname"><em>db</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task_8py_source.html#l00231">231</a> of file <a class="el" href="task_8py_source.html">task.py</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a44cb14221e88e7ee5425c7630059142c" name="a44cb14221e88e7ee5425c7630059142c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44cb14221e88e7ee5425c7630059142c">&#9670;&#160;</a></span>id</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">backend.models.postgis.task.TaskInvalidationHistory.id = Column(Integer, primary_key=True)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task_8py_source.html#l00070">70</a> of file <a class="el" href="task_8py_source.html">task.py</a>.</p>

</div>
</div>
<a id="afc5a7ed64010af2c07a60f403fb9a4da" name="afc5a7ed64010af2c07a60f403fb9a4da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc5a7ed64010af2c07a60f403fb9a4da">&#9670;&#160;</a></span>invalidated_date</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">backend.models.postgis.task.TaskInvalidationHistory.invalidated_date = Column(DateTime)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task_8py_source.html#l00077">77</a> of file <a class="el" href="task_8py_source.html">task.py</a>.</p>

</div>
</div>
<a id="a7091080f6d7aa8692126cc4b21528a11" name="a7091080f6d7aa8692126cc4b21528a11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7091080f6d7aa8692126cc4b21528a11">&#9670;&#160;</a></span>invalidation_history_id</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">backend.models.postgis.task.TaskInvalidationHistory.invalidation_history_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=  Column(</div>
<div class="line">        Integer, ForeignKey(<span class="stringliteral">&quot;task_history.id&quot;</span>, name=<span class="stringliteral">&quot;fk_invalidation_history&quot;</span>)</div>
<div class="line">    )</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="task_8py_source.html#l00078">78</a> of file <a class="el" href="task_8py_source.html">task.py</a>.</p>

</div>
</div>
<a id="a29a61703799552bda99f2f17f551a3b9" name="a29a61703799552bda99f2f17f551a3b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29a61703799552bda99f2f17f551a3b9">&#9670;&#160;</a></span>invalidator_id</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">backend.models.postgis.task.TaskInvalidationHistory.invalidator_id = Column(BigInteger, ForeignKey(&quot;users.id&quot;, name=&quot;fk_invalidators&quot;))</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task_8py_source.html#l00076">76</a> of file <a class="el" href="task_8py_source.html">task.py</a>.</p>

</div>
</div>
<a id="a6c3afdc8cfefe8a355f6e8573cc48a16" name="a6c3afdc8cfefe8a355f6e8573cc48a16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c3afdc8cfefe8a355f6e8573cc48a16">&#9670;&#160;</a></span>is_closed</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">backend.models.postgis.task.TaskInvalidationHistory.is_closed = Column(Boolean, default=False)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task_8py_source.html#l00073">73</a> of file <a class="el" href="task_8py_source.html">task.py</a>.</p>

</div>
</div>
<a id="a899db7db163c8bd726b697234e2685e3" name="a899db7db163c8bd726b697234e2685e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a899db7db163c8bd726b697234e2685e3">&#9670;&#160;</a></span>mapped_date</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">backend.models.postgis.task.TaskInvalidationHistory.mapped_date = Column(DateTime)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task_8py_source.html#l00075">75</a> of file <a class="el" href="task_8py_source.html">task.py</a>.</p>

</div>
</div>
<a id="ad0ae7535bf38dc1b86c520de45e1293d" name="ad0ae7535bf38dc1b86c520de45e1293d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0ae7535bf38dc1b86c520de45e1293d">&#9670;&#160;</a></span>mapper_id</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">backend.models.postgis.task.TaskInvalidationHistory.mapper_id = Column(BigInteger, ForeignKey(&quot;users.id&quot;, name=&quot;fk_mappers&quot;))</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task_8py_source.html#l00074">74</a> of file <a class="el" href="task_8py_source.html">task.py</a>.</p>

</div>
</div>
<a id="a43750ae8d545272c2baca46cd16ca2ed" name="a43750ae8d545272c2baca46cd16ca2ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43750ae8d545272c2baca46cd16ca2ed">&#9670;&#160;</a></span>project_id</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">backend.models.postgis.task.TaskInvalidationHistory.project_id = Column(Integer, ForeignKey(&quot;projects.id&quot;), nullable=False)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task_8py_source.html#l00071">71</a> of file <a class="el" href="task_8py_source.html">task.py</a>.</p>

</div>
</div>
<a id="a0ee1a34894ef94c0a8375e12da99cde7" name="a0ee1a34894ef94c0a8375e12da99cde7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ee1a34894ef94c0a8375e12da99cde7">&#9670;&#160;</a></span>task_id</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">backend.models.postgis.task.TaskInvalidationHistory.task_id = Column(Integer, nullable=False)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task_8py_source.html#l00072">72</a> of file <a class="el" href="task_8py_source.html">task.py</a>.</p>

</div>
</div>
<a id="a4d5af45e998a2d1c1bd32c633798bcb5" name="a4d5af45e998a2d1c1bd32c633798bcb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d5af45e998a2d1c1bd32c633798bcb5">&#9670;&#160;</a></span>updated_date</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">backend.models.postgis.task.TaskInvalidationHistory.updated_date = Column(DateTime, default=timestamp)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task_8py_source.html#l00083">83</a> of file <a class="el" href="task_8py_source.html">task.py</a>.</p>

</div>
</div>
<a id="ac3a91d702bfc18c56eabf2ddae00a957" name="ac3a91d702bfc18c56eabf2ddae00a957"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3a91d702bfc18c56eabf2ddae00a957">&#9670;&#160;</a></span>validated_date</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">backend.models.postgis.task.TaskInvalidationHistory.validated_date = Column(DateTime)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task_8py_source.html#l00082">82</a> of file <a class="el" href="task_8py_source.html">task.py</a>.</p>

</div>
</div>
<a id="ae4f7265b5c950ebf2cc6ed0729ce29be" name="ae4f7265b5c950ebf2cc6ed0729ce29be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4f7265b5c950ebf2cc6ed0729ce29be">&#9670;&#160;</a></span>validator_id</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">backend.models.postgis.task.TaskInvalidationHistory.validator_id = Column(BigInteger, ForeignKey(&quot;users.id&quot;, name=&quot;fk_validators&quot;))</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task_8py_source.html#l00081">81</a> of file <a class="el" href="task_8py_source.html">task.py</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/runner/work/tasking-manager/tasking-manager/backend/models/postgis/<a class="el" href="task_8py_source.html">task.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
